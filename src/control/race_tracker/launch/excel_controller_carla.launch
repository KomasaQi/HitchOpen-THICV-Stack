<launch>
    <!-- NMPC控制器管理器节点 -->
    <node pkg="race_tracker" 
          type="controller_manager" 
          name="controller_manager" 
          output="screen"
          respawn="true"> <!-- 崩溃后自动重启 -->

        <!-- 1. 核心参数配置 -->
        <param name="control_freq" type="double" value="20.0" /> <!-- 控制频率：25Hz -->
        <param name="topic/local_path" type="string" value="/race/local_path" />
        <param name="topic/vehicle_state" type="string" value="/race/vehicle_state" />
        <param name="topic/control" type="string" value="/race/control" />
        <param name="topic/flag" type="string" value="/race/flag" />
        <param name="ego_frame_id" type="string" value="ego_vehicle" />

        <!-- 2. 仅使用NMPC插件 -->
        <rosparam param="plugins">
            - race_tracker::NMPCLateralController  <!-- NMPC双轴横向控制器 -->
            - race_tracker::PIDController  <!-- PID控制器 -->
        </rosparam>

        <!-- 3. 加载NMPC控制器参数 -->
        <rosparam command="load" file="$(find race_tracker)/config/excel_controller.yaml" />

        <!-- <rosparam ns="nmpc_controller">
            <param name="front_steer_time_constant" value="0.01" /> 
            <param name="rear_steer_time_constant" value="0.01" /> 

        </rosparam> -->
    </node>

    <!-- 可选：启动rqt_graph查看节点关系 -->
    <!-- <node pkg="rqt_graph" type="rqt_graph" name="rqt_graph" output="screen" /> -->
</launch>
    